{% load static %}
<nav class="navbar navbar-expand-lg">
    <div class="container-fluid p-0">
        <a class="navbar-brand logo d-flex align-items-center" href="{% url 'product_list' %}">
            <svg class="navbar-logo-anim me-2" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <g class="anim-tool-left" transform-origin="100 100">
                    <rect x="95" y="20" width="6" height="160" rx="3" fill="#8d99ae" />
                    <circle cx="98" cy="20" r="6" fill="#2b2d42" />
                    <path d="M 95 180 L 98 190 L 101 180 Z" fill="#8d99ae" />
                </g>
                <g class="anim-tool-right" transform-origin="100 100">
                    <rect x="98" y="20" width="8" height="100" rx="2" fill="#d4a373" />
                    <rect x="100" y="120" width="4" height="60" fill="#a8dadc" />
                    <path d="M 100 180 L 100 185 C 100 190, 108 190, 108 185 L 108 182 L 104 180 Z" fill="#a8dadc" />
                </g>
                <g class="anim-yarn">
                    <circle cx="100" cy="100" r="22" fill="#e07a5f" />
                    <path d="M 85 90 Q 100 110 115 90" fill="none" stroke="#f2cc8f" stroke-width="2" opacity="0.6" />
                    <path d="M 85 100 Q 100 120 115 100" fill="none" stroke="#f2cc8f" stroke-width="2" opacity="0.6" />
                    <path d="M 90 110 Q 100 125 110 110" fill="none" stroke="#f2cc8f" stroke-width="2" opacity="0.6" />
                </g>
                <path class="anim-thread"
                    d="M 100 115 C 100 115, 60 130, 60 90 C 60 60, 90 50, 100 80 C 110 50, 140 60, 140 90 C 140 130, 100 115, 100 115 L 100 140" />
            </svg>
            <span
                style="font-family: 'Pacifico', cursive; font-weight: 400; color: #e07a5f; letter-spacing: 0.5px; font-size: 1.8rem; text-shadow: 2px 2px 0px #ffe4ec;">Yarned
                with Love</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto nav-links align-items-center">
                {% if user.is_authenticated %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        My Account
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="{% url 'profile' %}">My Profile üë§</a></li>
                        <li><a class="dropdown-item" href="{% url 'my_orders' %}">My Orders üì¶</a></li>
                        {% if user.is_superuser %}
                        <li><a class="dropdown-item fw-bold text-danger" href="/admin/">Admin Panel üîê</a></li>
                        <li><a class="dropdown-item fw-bold text-primary" href="{% url 'manage_artisans' %}">Manage
                                Artisans üõ†Ô∏è</a></li>
                        {% endif %}
                        {% if user.is_artisan %}
                        <li><a class="dropdown-item" href="{% url 'artisan_dashboard' %}">Artisan Dashboard üé®</a></li>
                        {% endif %}
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <form action="{% url 'account_logout' %}" method="post" class="d-inline">
                                {% csrf_token %}
                                <button type="submit" class="dropdown-item btn-logout"
                                    style="background: none; border: none; cursor: pointer;">Logout</button>
                            </form>
                        </li>
                    </ul>
                </li>
                {% if user.is_artisan %}
                <!-- Artisan Menu -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'artisan_products_list' %}">Collection</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'about_us' %}">About Us</a>
                </li>
                {% else %}
                <!-- Customer Menu -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'collection' %}">Collection</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'about_us' %}">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'view_cart' %}">Cart üõí</a>
                </li>
                {% endif %}
                {% else %}
                <!-- Guest Menu -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'collection' %}">Collection</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'about_us' %}">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'login' %}">Login</a>
                </li>
                {% endif %}

            </ul>
        </div>
    </div>
</nav>